<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title> My Diary</title>

<link rel=" stylesheet" href="StyleSheet1.css" />  
 <script src ="clock.js"></script>
</head>
<body id = "firstPage">
    <h1 id="title">Your Dream</h1>
   
      <audio id = "audio" loop preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2024/05/27/audio_0a4c3583a4.mp3?filename=-212393.mp3"type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
      <script>
        window.onload = function() {
          var audio = document.getElementById('audio');
          audio.play(); // Start playing the audio immediately
        };
        
      </script>
      
   
</div>
    </div>

    <div id = menu>
    <p>Tool Box</p>
    </div>
    <!-- the audoi is out  8/10/25-->
    <audio id="audio" preload="auto">
        <source src="https://soundcloud.com/nfrealmusic/chasing-demo-feat-mikayla?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
  
    <script>
       // Flag to check if buttons are already created
let buttonsCreated = false;
// Create buttons inside the menu
function createButtons() {
    if (!buttonsCreated) {
        const myMenu = document.getElementById('menu');

        // setting button 
        const Settings = document.createElement('button');
        Settings.id = "settings";
        Settings.style.borderStyle = "none";
        Settings.style.padding = "7px";
        Settings.style.borderRadius = "25px";
        Settings.style.color = "pink";
        Settings.addEventListener('mouseenter', () =>{
            Settings.style.backgroundColor = "hotpink";
            Settings.style.color = "white";
        });
        Settings.addEventListener('mouseleave', () =>{
            Settings.style.backgroundColor = "white";
            Settings.style.color = "black";
        });
        // vlog button
        const Vlog = document.createElement('button');
        Vlog.id = "vlog";

        Vlog.style.borderStyle = "none";
        Vlog.style.padding = "7px";
        Vlog.style.borderRadius = "25px";
        Vlog.style.color = "pink";
        Vlog.addEventListener('mouseenter', () =>{
            Vlog.style.backgroundColor = "hotpink";
            Vlog.style.color = "white";
        });

         Vlog.addEventListener('mouseleave', () =>{
         Vlog.style.backgroundColor = "white";
        Vlog.style.color = "black";
        });
        // history button 
        const History = document.createElement('button');
        History.id = "story";
        History.style.borderStyle = "none";
        History.style.padding = "7px";
        History.style.borderRadius = "25px";
        History.style.color = "pink";
        History.addEventListener('mouseenter', () =>{
            History.style.backgroundColor = "hotpink";
            History.style.color = "white";
        });

         History.addEventListener('mouseleave', () =>{
         History.style.backgroundColor = "white";
         History.style.color = "black";
        });


      // account button 

        const Account = document.createElement('button');
        Account.id = "account";
        Account.style.borderStyle = "none";
        Account.style.padding = "7px";
        Account.style.borderRadius = "25px";
        Account.style.color = "pink";
        Account.addEventListener('mouseenter', () =>{
            Account.style.backgroundColor = "hotpink";
            Account.style.color = "white";
        });

         Account.addEventListener('mouseleave', () =>{
         Account.style.backgroundColor = "white";
         Account.style.color = "black";
        });
        // Set text for buttons
        Settings.innerText = 'Settings';
        Vlog.innerText = 'Vlog';
        History.innerText = 'History';
        Account.innerText = 'Account';

        // Add buttons to the menu
        myMenu.appendChild(Vlog);
        myMenu.appendChild(History);
        myMenu.appendChild(Account);
        myMenu.appendChild(Settings);

        // Set flag to true to prevent recreating buttons
        buttonsCreated = true;

        // Add click event listeners for the buttons
        Vlog.onclick = () => alert("Vlog page is under construction. Give me some time, please");
        History.onclick = () => window.location.replace("history.html");
        Account.onclick = () => alert("Account page is under construction. Give me some time, please");
        Settings.onclick = () => window.location.replace("settings.html");
    }
}

// Show buttons when mouse is over the menu
function showButtons() {
    const buttons = document.querySelectorAll('#menu button');
    buttons.forEach(button => {
        button.style.visibility = 'visible'; // Show the buttons
    });
}

// Hide buttons when mouse leaves the menu
function hideButtons() {
    const buttons = document.querySelectorAll('#menu button');
    buttons.forEach(button => {
        button.style.visibility = 'hidden'; // Hide the buttons
    });
}

// Add event listeners for hover
const menu = document.getElementById('menu');
if (menu) {
    menu.addEventListener('mouseover', function() {
        createButtons();  // Create and show buttons on hover
        showButtons();  // Show buttons when hovering
    });
    menu.addEventListener('mouseout', hideButtons); // Hide buttons when mouse leaves
}

// Handle the "Save" button click to save feelings
const submit = document.getElementById("submit");
submit.onclick = function() {
    const feelings = document.getElementById("feel").value;
    var audio = document.getElementById('audio');
    audio.play()
    if (feelings) {
        alert("Your feelings have been saved: " + feelings);
        // Optionally, save it to localStorage or send it to a server
        // localStorage.setItem("feelings", feelings);
    } else {
        alert("Please enter your feelings before saving.");
    }
};
     </script>

    <button type="button" id = "history">Dream Book</button>
    <script>

   const bookButton = document.getElementById("history");
    bookButton.onclick = newpage;
        function newpage(){
            alert("I need some time to create this page. Please be patient");
            
        }
    </script>
    <!-- make a loading page -->

    <div>
        <div>
            <div id="box">
            <!-- missing label-->
             <label for = "feel" id = "labelForFeelings"></label>
             <textarea  id = "feel" name ="feel"></textarea>
                
            </div>
            
        </div>
    
    </div>
    <button type ="button" id="submit">submit</button>
    <script>

           let feelingsArray = JSON.parse(localStorage.getItem("feelingsArray")) || [];

// Handle the "Save" button click to save feelings data
const submitButton = document.getElementById("submit");
submitButton.onclick = function() {
    const feelings = document.getElementById("feel").value;

    if (feelings) {
        // Push the new feeling to the array
        feelingsArray.push(feelings);

        // Save the updated array in localStorage
        localStorage.setItem("feelingsArray", JSON.stringify(feelingsArray));

        // Optionally show a confirmation message
        alert("Your feelings have been saved!");

        // Clear the textarea for new input
        document.getElementById("feel").value = '';

        // Redirect to the history page to view all feelings
        window.location.replace("history.html");
    } else {
        alert("Please enter your feelings before saving.");
    }
};

   </script>
  

</body>

</html>

